{"ast":null,"code":"import _toConsumableArray from \"/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport * as React from \"react\";\nimport { cleanup } from \"../../utils.js\";\nimport { useEventCallback } from \"../../hooks/useEventCallback.js\";\nimport { EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP } from \"../../consts.js\";\nexport var usePointerSwipe = function usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n  var offset = React.useRef(0);\n  var pointers = React.useRef([]);\n  var activePointer = React.useRef();\n  var startTime = React.useRef(0);\n  var clearPointer = React.useCallback(function (event) {\n    if (activePointer.current === event.pointerId) {\n      activePointer.current = undefined;\n    }\n\n    var currentPointers = pointers.current;\n    currentPointers.splice.apply(currentPointers, [0, currentPointers.length].concat(_toConsumableArray(currentPointers.filter(function (p) {\n      return p.pointerId !== event.pointerId;\n    }))));\n  }, []);\n  var addPointer = React.useCallback(function (event) {\n    clearPointer(event);\n    pointers.current.push(event);\n  }, [clearPointer]);\n  var onPointerDown = useEventCallback(function (event) {\n    addPointer(event);\n  });\n  var onPointerUp = useEventCallback(function (event) {\n    if (pointers.current.find(function (x) {\n      return x.pointerId === event.pointerId;\n    }) && activePointer.current === event.pointerId) {\n      var duration = Date.now() - startTime.current;\n      var currentOffset = offset.current;\n\n      if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n        onSwipeFinish(currentOffset, duration);\n      } else {\n        onSwipeCancel(currentOffset);\n      }\n\n      offset.current = 0;\n    }\n\n    clearPointer(event);\n  });\n  var onPointerMove = useEventCallback(function (event) {\n    var pointer = pointers.current.find(function (p) {\n      return p.pointerId === event.pointerId;\n    });\n\n    if (pointer) {\n      var deltaX = event.clientX - pointer.clientX;\n      var deltaY = event.clientY - pointer.clientY;\n\n      if (!activePointer.current && isSwipeValid(deltaX) && Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n        addPointer(event);\n        activePointer.current = event.pointerId;\n        startTime.current = Date.now();\n        onSwipeStart();\n      } else if (activePointer.current === event.pointerId) {\n        offset.current = deltaX;\n        onSwipeProgress(deltaX);\n      }\n    }\n  });\n  React.useEffect(function () {\n    return cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp));\n  }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp]);\n};","map":{"version":3,"names":["React","cleanup","useEventCallback","EVENT_ON_POINTER_CANCEL","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","usePointerSwipe","subscribeSensors","isSwipeValid","containerWidth","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","offset","useRef","pointers","activePointer","startTime","clearPointer","useCallback","event","current","pointerId","undefined","currentPointers","splice","length","filter","p","addPointer","push","onPointerDown","onPointerUp","find","x","duration","Date","now","currentOffset","Math","abs","onPointerMove","pointer","deltaX","clientX","deltaY","clientY","useEffect"],"sources":["/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/yet-another-react-lightbox/dist/core/modules/controller/usePointerSwipe.js"],"sourcesContent":["import * as React from \"react\";\nimport { cleanup } from \"../../utils.js\";\nimport { useEventCallback } from \"../../hooks/useEventCallback.js\";\nimport { EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, } from \"../../consts.js\";\nexport const usePointerSwipe = (subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) => {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) &&\n            activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                onSwipeFinish(currentOffset, duration);\n            }\n            else {\n                onSwipeCancel(currentOffset);\n            }\n            offset.current = 0;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (!activePointer.current &&\n                isSwipeValid(deltaX) &&\n                Math.abs(deltaX) > Math.abs(deltaY) &&\n                Math.abs(deltaX) > 30) {\n                addPointer(event);\n                activePointer.current = event.pointerId;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else if (activePointer.current === event.pointerId) {\n                offset.current = deltaX;\n                onSwipeProgress(deltaX);\n            }\n        }\n    });\n    React.useEffect(() => cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp)), [subscribeSensors, onPointerDown, onPointerMove, onPointerUp]);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}