{"ast":null,"code":"import _defineProperty from \"/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\"];\nimport * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { cleanup, clsx, cssClass, cssVar, isNumber, makeComposePrefix, makeUseContext, parseLengthPercentage } from \"../utils.js\";\nimport { useContainerRect, useEventCallback, useForkRef, useLayoutEffect, useMotionPreference, useRTL, useSensors } from \"../hooks/index.js\";\nimport { useEvents, useLightboxState, useTimeouts } from \"../contexts/index.js\";\nimport { SwipeState, usePointerSwipe, usePreventSwipeNavigation, useWheelSwipe } from \"./controller/index.js\";\nimport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, CLASS_FLEX_CENTER, EVENT_ON_KEY_UP, MODULE_CONTROLLER, VK_ESCAPE, YARL_EVENT_BACKDROP_CLICK } from \"../consts.js\";\nvar cssContainerPrefix = makeComposePrefix(\"container\");\nvar ControllerContext = React.createContext(null);\nexport var useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nexport var Controller = function Controller(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var carousel = props.carousel,\n      slides = props.slides,\n      animation = props.animation,\n      controller = props.controller,\n      on = props.on,\n      styles = props.styles;\n\n  var _useLightboxState = useLightboxState(),\n      state = _useLightboxState.state,\n      dispatch = _useLightboxState.dispatch;\n\n  var _React$useState = React.useState(SwipeState.NONE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      swipeState = _React$useState2[0],\n      setSwipeState = _React$useState2[1];\n\n  var swipeOffset = React.useRef(0);\n  var swipeAnimationReset = React.useRef();\n\n  var _useSensors = useSensors(),\n      registerSensors = _useSensors.registerSensors,\n      subscribeSensors = _useSensors.subscribeSensors;\n\n  var _useEvents = useEvents(),\n      subscribe = _useEvents.subscribe,\n      publish = _useEvents.publish;\n\n  var _useTimeouts = useTimeouts(),\n      setTimeout = _useTimeouts.setTimeout,\n      clearTimeout = _useTimeouts.clearTimeout;\n\n  var _useContainerRect = useContainerRect(),\n      containerRef = _useContainerRect.containerRef,\n      setContainerRef = _useContainerRect.setContainerRef,\n      containerRect = _useContainerRect.containerRect;\n\n  var handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n  var carouselRef = React.useRef(null);\n  var setCarouselRef = useForkRef(carouselRef, undefined);\n  var carouselAnimation = React.useRef();\n  var carouselSwipeAnimation = React.useRef();\n  var reduceMotion = useMotionPreference();\n  var isRTL = useRTL();\n  var rtl = useEventCallback(function (value) {\n    return (isRTL ? -1 : 1) * (isNumber(value) ? value : 1);\n  });\n  var isSwipeValid = useEventCallback(function (offset) {\n    return !(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === slides.length - 1));\n  });\n  var setSwipeOffset = React.useCallback(function (offset) {\n    var _a;\n\n    swipeOffset.current = offset;\n    (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), \"\".concat(Math.round(offset), \"px\"));\n  }, [containerRef]);\n  var swipe = useEventCallback(function (action) {\n    var _a;\n\n    var swipeDuration = animation.swipe;\n    var currentSwipeOffset = action.offset || 0;\n    var direction = action.direction;\n    var count = (_a = action.count) !== null && _a !== void 0 ? _a : 1;\n    var newSwipeState = SwipeState.ANIMATION;\n    var newSwipeAnimationDuration = swipeDuration * count;\n\n    if (!direction) {\n      var containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n      var elapsedTime = action.duration || 0;\n      var expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n\n      if (count !== 0) {\n        if (elapsedTime < expectedTime) {\n          newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n        } else if (containerWidth) {\n          newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n        }\n      } else {\n        newSwipeAnimationDuration = swipeDuration / 2;\n      }\n\n      if (count !== 0) {\n        direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n      }\n    }\n\n    var increment;\n\n    if (direction === ACTION_PREV) {\n      if (isSwipeValid(rtl(1))) {\n        increment = -count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    } else if (direction === ACTION_NEXT) {\n      if (isSwipeValid(rtl(-1))) {\n        increment = count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    }\n\n    if (carouselRef.current) {\n      carouselSwipeAnimation.current = {\n        rect: carouselRef.current.getBoundingClientRect(),\n        index: state.globalIndex\n      };\n    }\n\n    newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n    clearTimeout(swipeAnimationReset.current);\n\n    if (newSwipeState) {\n      var timeoutId = setTimeout(function () {\n        if (swipeAnimationReset.current === timeoutId) {\n          setSwipeOffset(0);\n          setSwipeState(SwipeState.NONE);\n        }\n      }, newSwipeAnimationDuration);\n      swipeAnimationReset.current = timeoutId;\n    }\n\n    setSwipeState(newSwipeState);\n    dispatch({\n      increment: increment,\n      animationDuration: newSwipeAnimationDuration\n    });\n  });\n  var animateCarouselSwipe = useEventCallback(function () {\n    var _a, _b, _c;\n\n    var swipeAnimation = carouselSwipeAnimation.current;\n    carouselSwipeAnimation.current = undefined;\n\n    if (swipeAnimation && carouselRef.current && containerRect) {\n      var parsedSpacing = parseLengthPercentage(carousel.spacing);\n      var spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n      (_a = carouselAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n      carouselAnimation.current = (_c = (_b = carouselRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [{\n        transform: \"translateX(\".concat(rtl(state.globalIndex - swipeAnimation.index) * (containerRect.width + spacingValue) + swipeAnimation.rect.x - carouselRef.current.getBoundingClientRect().x, \"px)\")\n      }, {\n        transform: \"translateX(0)\"\n      }], !reduceMotion ? state.animationDuration : 0);\n\n      if (carouselAnimation.current) {\n        carouselAnimation.current.onfinish = function () {\n          carouselAnimation.current = undefined;\n        };\n      }\n    }\n  });\n  useLayoutEffect(animateCarouselSwipe);\n  var swipeParams = [subscribeSensors, isSwipeValid, (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0, animation.swipe, function () {\n    return setSwipeState(SwipeState.SWIPE);\n  }, function (offset) {\n    return setSwipeOffset(offset);\n  }, function (offset, duration) {\n    return swipe({\n      offset: offset,\n      duration: duration,\n      count: 1\n    });\n  }, function (offset) {\n    return swipe({\n      offset: offset,\n      count: 0\n    });\n  }];\n  usePointerSwipe.apply(void 0, swipeParams);\n  useWheelSwipe.apply(void 0, [swipeState].concat(swipeParams));\n  var focusOnMount = useEventCallback(function () {\n    var _a;\n\n    if (controller.focus) {\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  });\n  React.useEffect(focusOnMount, [focusOnMount]);\n  var handleIndexChange = useEventCallback(function () {\n    var _a;\n\n    (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, state.currentIndex);\n  });\n  React.useEffect(handleIndexChange, [state.currentIndex, handleIndexChange]);\n  React.useEffect(function () {\n    return cleanup(subscribe(ACTION_PREV, function (count) {\n      return swipe({\n        direction: ACTION_PREV,\n        count: isNumber(count) ? count : undefined\n      });\n    }), subscribe(ACTION_NEXT, function (count) {\n      return swipe({\n        direction: ACTION_NEXT,\n        count: isNumber(count) ? count : undefined\n      });\n    }));\n  }, [subscribe, swipe]);\n  React.useEffect(function () {\n    return subscribeSensors(EVENT_ON_KEY_UP, function (event) {\n      if (event.code === VK_ESCAPE) {\n        publish(ACTION_CLOSE);\n      }\n    });\n  }, [subscribeSensors, publish]);\n  React.useEffect(function () {\n    return controller.closeOnBackdropClick ? subscribe(YARL_EVENT_BACKDROP_CLICK, function () {\n      return publish(ACTION_CLOSE);\n    }) : function () {};\n  }, [controller.closeOnBackdropClick, publish, subscribe]);\n  var transferFocus = useEventCallback(function () {\n    var _a;\n\n    return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  });\n  var getLightboxProps = useEventCallback(function () {\n    return props;\n  });\n  var context = React.useMemo(function () {\n    return {\n      getLightboxProps: getLightboxProps,\n      subscribeSensors: subscribeSensors,\n      transferFocus: transferFocus,\n      containerRect: containerRect || {\n        width: 0,\n        height: 0\n      },\n      containerRef: containerRef,\n      setCarouselRef: setCarouselRef\n    };\n  }, [getLightboxProps, subscribeSensors, transferFocus, containerRect, containerRef, setCarouselRef]);\n  return React.createElement(\"div\", _objectSpread(_objectSpread({\n    ref: handleContainerRef,\n    className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)),\n    style: _objectSpread(_objectSpread(_objectSpread({}, swipeState === SwipeState.SWIPE ? _defineProperty({}, cssVar(\"swipe_offset\"), \"\".concat(Math.round(swipeOffset.current), \"px\")) : null), controller.touchAction !== \"none\" ? {} : null), styles.container)\n  }, controller.aria ? {\n    role: \"presentation\",\n    \"aria-live\": \"polite\"\n  } : null), {}, {\n    tabIndex: -1\n  }, registerSensors), containerRect && React.createElement(ControllerContext.Provider, {\n    value: context\n  }, children));\n};\nexport var ControllerModule = createModule(MODULE_CONTROLLER, Controller);","map":{"version":3,"names":["React","createModule","cleanup","clsx","cssClass","cssVar","isNumber","makeComposePrefix","makeUseContext","parseLengthPercentage","useContainerRect","useEventCallback","useForkRef","useLayoutEffect","useMotionPreference","useRTL","useSensors","useEvents","useLightboxState","useTimeouts","SwipeState","usePointerSwipe","usePreventSwipeNavigation","useWheelSwipe","ACTION_CLOSE","ACTION_NEXT","ACTION_PREV","CLASS_FLEX_CENTER","EVENT_ON_KEY_UP","MODULE_CONTROLLER","VK_ESCAPE","YARL_EVENT_BACKDROP_CLICK","cssContainerPrefix","ControllerContext","createContext","useController","Controller","children","props","carousel","slides","animation","controller","on","styles","state","dispatch","useState","NONE","swipeState","setSwipeState","swipeOffset","useRef","swipeAnimationReset","registerSensors","subscribeSensors","subscribe","publish","setTimeout","clearTimeout","containerRef","setContainerRef","containerRect","handleContainerRef","carouselRef","setCarouselRef","undefined","carouselAnimation","carouselSwipeAnimation","reduceMotion","isRTL","rtl","value","isSwipeValid","offset","finite","currentIndex","length","setSwipeOffset","useCallback","_a","current","style","setProperty","Math","round","swipe","action","swipeDuration","currentSwipeOffset","direction","count","newSwipeState","ANIMATION","newSwipeAnimationDuration","containerWidth","width","elapsedTime","duration","expectedTime","abs","max","increment","rect","getBoundingClientRect","index","globalIndex","timeoutId","animationDuration","animateCarouselSwipe","_b","_c","swipeAnimation","parsedSpacing","spacing","spacingValue","percent","pixel","cancel","animate","call","transform","x","onfinish","swipeParams","SWIPE","focusOnMount","focus","useEffect","handleIndexChange","view","event","code","closeOnBackdropClick","transferFocus","getLightboxProps","context","useMemo","height","createElement","ref","className","touchAction","container","aria","role","tabIndex","Provider","ControllerModule"],"sources":["/Users/kubilaybozak/Desktop/Tatto-Template/node_modules/yet-another-react-lightbox/dist/core/modules/Controller.js"],"sourcesContent":["import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { cleanup, clsx, cssClass, cssVar, isNumber, makeComposePrefix, makeUseContext, parseLengthPercentage, } from \"../utils.js\";\nimport { useContainerRect, useEventCallback, useForkRef, useLayoutEffect, useMotionPreference, useRTL, useSensors, } from \"../hooks/index.js\";\nimport { useEvents, useLightboxState, useTimeouts } from \"../contexts/index.js\";\nimport { SwipeState, usePointerSwipe, usePreventSwipeNavigation, useWheelSwipe } from \"./controller/index.js\";\nimport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, CLASS_FLEX_CENTER, EVENT_ON_KEY_UP, MODULE_CONTROLLER, VK_ESCAPE, YARL_EVENT_BACKDROP_CLICK, } from \"../consts.js\";\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nexport const useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nexport const Controller = ({ children, ...props }) => {\n    const { carousel, slides, animation, controller, on, styles } = props;\n    const { state, dispatch } = useLightboxState();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const swipeAnimationReset = React.useRef();\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const carouselAnimation = React.useRef();\n    const carouselSwipeAnimation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    const isRTL = useRTL();\n    const rtl = useEventCallback((value) => (isRTL ? -1 : 1) * (isNumber(value) ? value : 1));\n    const isSwipeValid = useEventCallback((offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === slides.length - 1))));\n    const setSwipeOffset = React.useCallback((offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    }, [containerRef]);\n    const swipe = useEventCallback((action) => {\n        var _a;\n        const swipeDuration = animation.swipe;\n        const currentSwipeOffset = action.offset || 0;\n        let { direction } = action;\n        const count = (_a = action.count) !== null && _a !== void 0 ? _a : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n            if (count !== 0) {\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n        }\n        let increment;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        if (carouselRef.current) {\n            carouselSwipeAnimation.current = {\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            };\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        clearTimeout(swipeAnimationReset.current);\n        if (newSwipeState) {\n            const timeoutId = setTimeout(() => {\n                if (swipeAnimationReset.current === timeoutId) {\n                    setSwipeOffset(0);\n                    setSwipeState(SwipeState.NONE);\n                }\n            }, newSwipeAnimationDuration);\n            swipeAnimationReset.current = timeoutId;\n        }\n        setSwipeState(newSwipeState);\n        dispatch({ increment, animationDuration: newSwipeAnimationDuration });\n    });\n    const animateCarouselSwipe = useEventCallback(() => {\n        var _a, _b, _c;\n        const swipeAnimation = carouselSwipeAnimation.current;\n        carouselSwipeAnimation.current = undefined;\n        if (swipeAnimation && carouselRef.current && containerRect) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) ||\n                0;\n            (_a = carouselAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n            carouselAnimation.current = (_c = (_b = carouselRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                {\n                    transform: `translateX(${rtl(state.globalIndex - swipeAnimation.index) * (containerRect.width + spacingValue) +\n                        swipeAnimation.rect.x -\n                        carouselRef.current.getBoundingClientRect().x}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ], !reduceMotion ? state.animationDuration : 0);\n            if (carouselAnimation.current) {\n                carouselAnimation.current.onfinish = () => {\n                    carouselAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(animateCarouselSwipe);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    usePointerSwipe(...swipeParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        var _a;\n        if (controller.focus) {\n            (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const handleIndexChange = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, state.currentIndex);\n    });\n    React.useEffect(handleIndexChange, [state.currentIndex, handleIndexChange]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (count) => swipe({\n        direction: ACTION_PREV,\n        count: isNumber(count) ? count : undefined,\n    })), subscribe(ACTION_NEXT, (count) => swipe({\n        direction: ACTION_NEXT,\n        count: isNumber(count) ? count : undefined,\n    }))), [subscribe, swipe]);\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_UP, (event) => {\n        if (event.code === VK_ESCAPE) {\n            publish(ACTION_CLOSE);\n        }\n    }), [subscribeSensors, publish]);\n    React.useEffect(() => controller.closeOnBackdropClick\n        ? subscribe(YARL_EVENT_BACKDROP_CLICK, () => publish(ACTION_CLOSE))\n        : () => { }, [controller.closeOnBackdropClick, publish, subscribe]);\n    const transferFocus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const context = React.useMemo(() => ({\n        getLightboxProps,\n        subscribeSensors,\n        transferFocus,\n        containerRect: containerRect || { width: 0, height: 0 },\n        containerRef,\n        setCarouselRef,\n    }), [getLightboxProps, subscribeSensors, transferFocus, containerRect, containerRef, setCarouselRef]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(controller.touchAction !== \"none\" ? {} : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && React.createElement(ControllerContext.Provider, { value: context }, children)));\n};\nexport const ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,SAASC,OAAT,EAAkBC,IAAlB,EAAwBC,QAAxB,EAAkCC,MAAlC,EAA0CC,QAA1C,EAAoDC,iBAApD,EAAuEC,cAAvE,EAAuFC,qBAAvF,QAAqH,aAArH;AACA,SAASC,gBAAT,EAA2BC,gBAA3B,EAA6CC,UAA7C,EAAyDC,eAAzD,EAA0EC,mBAA1E,EAA+FC,MAA/F,EAAuGC,UAAvG,QAA0H,mBAA1H;AACA,SAASC,SAAT,EAAoBC,gBAApB,EAAsCC,WAAtC,QAAyD,sBAAzD;AACA,SAASC,UAAT,EAAqBC,eAArB,EAAsCC,yBAAtC,EAAiEC,aAAjE,QAAsF,uBAAtF;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,EAAiDC,iBAAjD,EAAoEC,eAApE,EAAqFC,iBAArF,EAAwGC,SAAxG,EAAmHC,yBAAnH,QAAqJ,cAArJ;AACA,IAAMC,kBAAkB,GAAGzB,iBAAiB,CAAC,WAAD,CAA5C;AACA,IAAM0B,iBAAiB,GAAGjC,KAAK,CAACkC,aAAN,CAAoB,IAApB,CAA1B;AACA,OAAO,IAAMC,aAAa,GAAG3B,cAAc,CAAC,eAAD,EAAkB,mBAAlB,EAAuCyB,iBAAvC,CAApC;AACP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,OAA4B;EAAA,IAAzBC,QAAyB,QAAzBA,QAAyB;EAAA,IAAZC,KAAY;;EAClD,IAAQC,QAAR,GAAgED,KAAhE,CAAQC,QAAR;EAAA,IAAkBC,MAAlB,GAAgEF,KAAhE,CAAkBE,MAAlB;EAAA,IAA0BC,SAA1B,GAAgEH,KAAhE,CAA0BG,SAA1B;EAAA,IAAqCC,UAArC,GAAgEJ,KAAhE,CAAqCI,UAArC;EAAA,IAAiDC,EAAjD,GAAgEL,KAAhE,CAAiDK,EAAjD;EAAA,IAAqDC,MAArD,GAAgEN,KAAhE,CAAqDM,MAArD;;EACA,wBAA4B1B,gBAAgB,EAA5C;EAAA,IAAQ2B,KAAR,qBAAQA,KAAR;EAAA,IAAeC,QAAf,qBAAeA,QAAf;;EACA,sBAAoC9C,KAAK,CAAC+C,QAAN,CAAe3B,UAAU,CAAC4B,IAA1B,CAApC;EAAA;EAAA,IAAOC,UAAP;EAAA,IAAmBC,aAAnB;;EACA,IAAMC,WAAW,GAAGnD,KAAK,CAACoD,MAAN,CAAa,CAAb,CAApB;EACA,IAAMC,mBAAmB,GAAGrD,KAAK,CAACoD,MAAN,EAA5B;;EACA,kBAA8CpC,UAAU,EAAxD;EAAA,IAAQsC,eAAR,eAAQA,eAAR;EAAA,IAAyBC,gBAAzB,eAAyBA,gBAAzB;;EACA,iBAA+BtC,SAAS,EAAxC;EAAA,IAAQuC,SAAR,cAAQA,SAAR;EAAA,IAAmBC,OAAnB,cAAmBA,OAAnB;;EACA,mBAAqCtC,WAAW,EAAhD;EAAA,IAAQuC,UAAR,gBAAQA,UAAR;EAAA,IAAoBC,YAApB,gBAAoBA,YAApB;;EACA,wBAAyDjD,gBAAgB,EAAzE;EAAA,IAAQkD,YAAR,qBAAQA,YAAR;EAAA,IAAsBC,eAAtB,qBAAsBA,eAAtB;EAAA,IAAuCC,aAAvC,qBAAuCA,aAAvC;;EACA,IAAMC,kBAAkB,GAAGnD,UAAU,CAACU,yBAAyB,EAA1B,EAA8BuC,eAA9B,CAArC;EACA,IAAMG,WAAW,GAAGhE,KAAK,CAACoD,MAAN,CAAa,IAAb,CAApB;EACA,IAAMa,cAAc,GAAGrD,UAAU,CAACoD,WAAD,EAAcE,SAAd,CAAjC;EACA,IAAMC,iBAAiB,GAAGnE,KAAK,CAACoD,MAAN,EAA1B;EACA,IAAMgB,sBAAsB,GAAGpE,KAAK,CAACoD,MAAN,EAA/B;EACA,IAAMiB,YAAY,GAAGvD,mBAAmB,EAAxC;EACA,IAAMwD,KAAK,GAAGvD,MAAM,EAApB;EACA,IAAMwD,GAAG,GAAG5D,gBAAgB,CAAC,UAAC6D,KAAD;IAAA,OAAW,CAACF,KAAK,GAAG,CAAC,CAAJ,GAAQ,CAAd,KAAoBhE,QAAQ,CAACkE,KAAD,CAAR,GAAkBA,KAAlB,GAA0B,CAA9C,CAAX;EAAA,CAAD,CAA5B;EACA,IAAMC,YAAY,GAAG9D,gBAAgB,CAAC,UAAC+D,MAAD;IAAA,OAAY,EAAEnC,QAAQ,CAACoC,MAAT,KAC9CJ,GAAG,CAACG,MAAD,CAAH,GAAc,CAAd,IAAmB7B,KAAK,CAAC+B,YAAN,KAAuB,CAA3C,IACIL,GAAG,CAACG,MAAD,CAAH,GAAc,CAAd,IAAmB7B,KAAK,CAAC+B,YAAN,KAAuBpC,MAAM,CAACqC,MAAP,GAAgB,CAFf,CAAF,CAAZ;EAAA,CAAD,CAArC;EAGA,IAAMC,cAAc,GAAG9E,KAAK,CAAC+E,WAAN,CAAkB,UAACL,MAAD,EAAY;IACjD,IAAIM,EAAJ;;IACA7B,WAAW,CAAC8B,OAAZ,GAAsBP,MAAtB;IACA,CAACM,EAAE,GAAGpB,YAAY,CAACqB,OAAnB,MAAgC,IAAhC,IAAwCD,EAAE,KAAK,KAAK,CAApD,GAAwD,KAAK,CAA7D,GAAiEA,EAAE,CAACE,KAAH,CAASC,WAAT,CAAqB9E,MAAM,CAAC,cAAD,CAA3B,YAAgD+E,IAAI,CAACC,KAAL,CAAWX,MAAX,CAAhD,QAAjE;EACH,CAJsB,EAIpB,CAACd,YAAD,CAJoB,CAAvB;EAKA,IAAM0B,KAAK,GAAG3E,gBAAgB,CAAC,UAAC4E,MAAD,EAAY;IACvC,IAAIP,EAAJ;;IACA,IAAMQ,aAAa,GAAG/C,SAAS,CAAC6C,KAAhC;IACA,IAAMG,kBAAkB,GAAGF,MAAM,CAACb,MAAP,IAAiB,CAA5C;IACA,IAAMgB,SAAN,GAAoBH,MAApB,CAAMG,SAAN;IACA,IAAMC,KAAK,GAAG,CAACX,EAAE,GAAGO,MAAM,CAACI,KAAb,MAAwB,IAAxB,IAAgCX,EAAE,KAAK,KAAK,CAA5C,GAAgDA,EAAhD,GAAqD,CAAnE;IACA,IAAIY,aAAa,GAAGxE,UAAU,CAACyE,SAA/B;IACA,IAAIC,yBAAyB,GAAGN,aAAa,GAAGG,KAAhD;;IACA,IAAI,CAACD,SAAL,EAAgB;MACZ,IAAMK,cAAc,GAAGjC,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACkC,KAAnG;MACA,IAAMC,WAAW,GAAGV,MAAM,CAACW,QAAP,IAAmB,CAAvC;MACA,IAAMC,YAAY,GAAGJ,cAAc,GAC5BP,aAAa,GAAGO,cAAjB,GAAmCX,IAAI,CAACgB,GAAL,CAASX,kBAAT,CADN,GAE7BD,aAFN;;MAGA,IAAIG,KAAK,KAAK,CAAd,EAAiB;QACb,IAAIM,WAAW,GAAGE,YAAlB,EAAgC;UAC5BL,yBAAyB,GACpBA,yBAAyB,GAAGK,YAA7B,GAA6Cf,IAAI,CAACiB,GAAL,CAASJ,WAAT,EAAsBE,YAAY,GAAG,CAArC,CADjD;QAEH,CAHD,MAIK,IAAIJ,cAAJ,EAAoB;UACrBD,yBAAyB,GACpBN,aAAa,GAAGO,cAAjB,IAAoCA,cAAc,GAAGX,IAAI,CAACgB,GAAL,CAASX,kBAAT,CAArD,CADJ;QAEH;MACJ,CATD,MAUK;QACDK,yBAAyB,GAAGN,aAAa,GAAG,CAA5C;MACH;;MACD,IAAIG,KAAK,KAAK,CAAd,EAAiB;QACbD,SAAS,GAAGnB,GAAG,CAACkB,kBAAD,CAAH,GAA0B,CAA1B,GAA8B/D,WAA9B,GAA4CD,WAAxD;MACH;IACJ;;IACD,IAAI6E,SAAJ;;IACA,IAAIZ,SAAS,KAAKhE,WAAlB,EAA+B;MAC3B,IAAI+C,YAAY,CAACF,GAAG,CAAC,CAAD,CAAJ,CAAhB,EAA0B;QACtB+B,SAAS,GAAG,CAACX,KAAb;MACH,CAFD,MAGK;QACDC,aAAa,GAAGxE,UAAU,CAAC4B,IAA3B;QACA8C,yBAAyB,GAAGN,aAA5B;MACH;IACJ,CARD,MASK,IAAIE,SAAS,KAAKjE,WAAlB,EAA+B;MAChC,IAAIgD,YAAY,CAACF,GAAG,CAAC,CAAC,CAAF,CAAJ,CAAhB,EAA2B;QACvB+B,SAAS,GAAGX,KAAZ;MACH,CAFD,MAGK;QACDC,aAAa,GAAGxE,UAAU,CAAC4B,IAA3B;QACA8C,yBAAyB,GAAGN,aAA5B;MACH;IACJ;;IACD,IAAIxB,WAAW,CAACiB,OAAhB,EAAyB;MACrBb,sBAAsB,CAACa,OAAvB,GAAiC;QAC7BsB,IAAI,EAAEvC,WAAW,CAACiB,OAAZ,CAAoBuB,qBAApB,EADuB;QAE7BC,KAAK,EAAE5D,KAAK,CAAC6D;MAFgB,CAAjC;IAIH;;IACDZ,yBAAyB,GAAGV,IAAI,CAACC,KAAL,CAAWS,yBAAX,CAA5B;IACAnC,YAAY,CAACN,mBAAmB,CAAC4B,OAArB,CAAZ;;IACA,IAAIW,aAAJ,EAAmB;MACf,IAAMe,SAAS,GAAGjD,UAAU,CAAC,YAAM;QAC/B,IAAIL,mBAAmB,CAAC4B,OAApB,KAAgC0B,SAApC,EAA+C;UAC3C7B,cAAc,CAAC,CAAD,CAAd;UACA5B,aAAa,CAAC9B,UAAU,CAAC4B,IAAZ,CAAb;QACH;MACJ,CAL2B,EAKzB8C,yBALyB,CAA5B;MAMAzC,mBAAmB,CAAC4B,OAApB,GAA8B0B,SAA9B;IACH;;IACDzD,aAAa,CAAC0C,aAAD,CAAb;IACA9C,QAAQ,CAAC;MAAEwD,SAAS,EAATA,SAAF;MAAaM,iBAAiB,EAAEd;IAAhC,CAAD,CAAR;EACH,CArE6B,CAA9B;EAsEA,IAAMe,oBAAoB,GAAGlG,gBAAgB,CAAC,YAAM;IAChD,IAAIqE,EAAJ,EAAQ8B,EAAR,EAAYC,EAAZ;;IACA,IAAMC,cAAc,GAAG5C,sBAAsB,CAACa,OAA9C;IACAb,sBAAsB,CAACa,OAAvB,GAAiCf,SAAjC;;IACA,IAAI8C,cAAc,IAAIhD,WAAW,CAACiB,OAA9B,IAAyCnB,aAA7C,EAA4D;MACxD,IAAMmD,aAAa,GAAGxG,qBAAqB,CAAC8B,QAAQ,CAAC2E,OAAV,CAA3C;MACA,IAAMC,YAAY,GAAG,CAACF,aAAa,CAACG,OAAd,GAAyBH,aAAa,CAACG,OAAd,GAAwBtD,aAAa,CAACkC,KAAvC,GAAgD,GAAxE,GAA8EiB,aAAa,CAACI,KAA7F,KACjB,CADJ;MAEA,CAACrC,EAAE,GAAGb,iBAAiB,CAACc,OAAxB,MAAqC,IAArC,IAA6CD,EAAE,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,EAAE,CAACsC,MAAH,EAAtE;MACAnD,iBAAiB,CAACc,OAAlB,GAA4B,CAAC8B,EAAE,GAAG,CAACD,EAAE,GAAG9C,WAAW,CAACiB,OAAlB,EAA2BsC,OAAjC,MAA8C,IAA9C,IAAsDR,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACS,IAAH,CAAQV,EAAR,EAAY,CACnH;QACIW,SAAS,uBAAgBlD,GAAG,CAAC1B,KAAK,CAAC6D,WAAN,GAAoBM,cAAc,CAACP,KAApC,CAAH,IAAiD3C,aAAa,CAACkC,KAAd,GAAsBmB,YAAvE,IACrBH,cAAc,CAACT,IAAf,CAAoBmB,CADC,GAErB1D,WAAW,CAACiB,OAAZ,CAAoBuB,qBAApB,GAA4CkB,CAFvC;MADb,CADmH,EAMnH;QAAED,SAAS,EAAE;MAAb,CANmH,CAAZ,EAOxG,CAACpD,YAAD,GAAgBxB,KAAK,CAAC+D,iBAAtB,GAA0C,CAP8D,CAA3G;;MAQA,IAAIzC,iBAAiB,CAACc,OAAtB,EAA+B;QAC3Bd,iBAAiB,CAACc,OAAlB,CAA0B0C,QAA1B,GAAqC,YAAM;UACvCxD,iBAAiB,CAACc,OAAlB,GAA4Bf,SAA5B;QACH,CAFD;MAGH;IACJ;EACJ,CAvB4C,CAA7C;EAwBArD,eAAe,CAACgG,oBAAD,CAAf;EACA,IAAMe,WAAW,GAAG,CAChBrE,gBADgB,EAEhBkB,YAFgB,EAGhB,CAACX,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACkC,KAA7E,KAAuF,CAHvE,EAIhBvD,SAAS,CAAC6C,KAJM,EAKhB;IAAA,OAAMpC,aAAa,CAAC9B,UAAU,CAACyG,KAAZ,CAAnB;EAAA,CALgB,EAMhB,UAACnD,MAAD;IAAA,OAAYI,cAAc,CAACJ,MAAD,CAA1B;EAAA,CANgB,EAOhB,UAACA,MAAD,EAASwB,QAAT;IAAA,OAAsBZ,KAAK,CAAC;MAAEZ,MAAM,EAANA,MAAF;MAAUwB,QAAQ,EAARA,QAAV;MAAoBP,KAAK,EAAE;IAA3B,CAAD,CAA3B;EAAA,CAPgB,EAQhB,UAACjB,MAAD;IAAA,OAAYY,KAAK,CAAC;MAAEZ,MAAM,EAANA,MAAF;MAAUiB,KAAK,EAAE;IAAjB,CAAD,CAAjB;EAAA,CARgB,CAApB;EAUAtE,eAAe,MAAf,SAAmBuG,WAAnB;EACArG,aAAa,MAAb,UAAc0B,UAAd,SAA6B2E,WAA7B;EACA,IAAME,YAAY,GAAGnH,gBAAgB,CAAC,YAAM;IACxC,IAAIqE,EAAJ;;IACA,IAAItC,UAAU,CAACqF,KAAf,EAAsB;MAClB,CAAC/C,EAAE,GAAGpB,YAAY,CAACqB,OAAnB,MAAgC,IAAhC,IAAwCD,EAAE,KAAK,KAAK,CAApD,GAAwD,KAAK,CAA7D,GAAiEA,EAAE,CAAC+C,KAAH,EAAjE;IACH;EACJ,CALoC,CAArC;EAMA/H,KAAK,CAACgI,SAAN,CAAgBF,YAAhB,EAA8B,CAACA,YAAD,CAA9B;EACA,IAAMG,iBAAiB,GAAGtH,gBAAgB,CAAC,YAAM;IAC7C,IAAIqE,EAAJ;;IACA,CAACA,EAAE,GAAGrC,EAAE,CAACuF,IAAT,MAAmB,IAAnB,IAA2BlD,EAAE,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,EAAE,CAACwC,IAAH,CAAQ7E,EAAR,EAAYE,KAAK,CAAC+B,YAAlB,CAApD;EACH,CAHyC,CAA1C;EAIA5E,KAAK,CAACgI,SAAN,CAAgBC,iBAAhB,EAAmC,CAACpF,KAAK,CAAC+B,YAAP,EAAqBqD,iBAArB,CAAnC;EACAjI,KAAK,CAACgI,SAAN,CAAgB;IAAA,OAAM9H,OAAO,CAACsD,SAAS,CAAC9B,WAAD,EAAc,UAACiE,KAAD;MAAA,OAAWL,KAAK,CAAC;QAClEI,SAAS,EAAEhE,WADuD;QAElEiE,KAAK,EAAErF,QAAQ,CAACqF,KAAD,CAAR,GAAkBA,KAAlB,GAA0BzB;MAFiC,CAAD,CAAhB;IAAA,CAAd,CAAV,EAGxBV,SAAS,CAAC/B,WAAD,EAAc,UAACkE,KAAD;MAAA,OAAWL,KAAK,CAAC;QACzCI,SAAS,EAAEjE,WAD8B;QAEzCkE,KAAK,EAAErF,QAAQ,CAACqF,KAAD,CAAR,GAAkBA,KAAlB,GAA0BzB;MAFQ,CAAD,CAAhB;IAAA,CAAd,CAHe,CAAb;EAAA,CAAhB,EAMM,CAACV,SAAD,EAAY8B,KAAZ,CANN;EAOAtF,KAAK,CAACgI,SAAN,CAAgB;IAAA,OAAMzE,gBAAgB,CAAC3B,eAAD,EAAkB,UAACuG,KAAD,EAAW;MAC/D,IAAIA,KAAK,CAACC,IAAN,KAAetG,SAAnB,EAA8B;QAC1B2B,OAAO,CAACjC,YAAD,CAAP;MACH;IACJ,CAJqC,CAAtB;EAAA,CAAhB,EAII,CAAC+B,gBAAD,EAAmBE,OAAnB,CAJJ;EAKAzD,KAAK,CAACgI,SAAN,CAAgB;IAAA,OAAMtF,UAAU,CAAC2F,oBAAX,GAChB7E,SAAS,CAACzB,yBAAD,EAA4B;MAAA,OAAM0B,OAAO,CAACjC,YAAD,CAAb;IAAA,CAA5B,CADO,GAEhB,YAAM,CAAG,CAFC;EAAA,CAAhB,EAEiB,CAACkB,UAAU,CAAC2F,oBAAZ,EAAkC5E,OAAlC,EAA2CD,SAA3C,CAFjB;EAGA,IAAM8E,aAAa,GAAG3H,gBAAgB,CAAC,YAAM;IAAE,IAAIqE,EAAJ;;IAAQ,OAAO,CAACA,EAAE,GAAGpB,YAAY,CAACqB,OAAnB,MAAgC,IAAhC,IAAwCD,EAAE,KAAK,KAAK,CAApD,GAAwD,KAAK,CAA7D,GAAiEA,EAAE,CAAC+C,KAAH,EAAxE;EAAqF,CAAtG,CAAtC;EACA,IAAMQ,gBAAgB,GAAG5H,gBAAgB,CAAC;IAAA,OAAM2B,KAAN;EAAA,CAAD,CAAzC;EACA,IAAMkG,OAAO,GAAGxI,KAAK,CAACyI,OAAN,CAAc;IAAA,OAAO;MACjCF,gBAAgB,EAAhBA,gBADiC;MAEjChF,gBAAgB,EAAhBA,gBAFiC;MAGjC+E,aAAa,EAAbA,aAHiC;MAIjCxE,aAAa,EAAEA,aAAa,IAAI;QAAEkC,KAAK,EAAE,CAAT;QAAY0C,MAAM,EAAE;MAApB,CAJC;MAKjC9E,YAAY,EAAZA,YALiC;MAMjCK,cAAc,EAAdA;IANiC,CAAP;EAAA,CAAd,EAOZ,CAACsE,gBAAD,EAAmBhF,gBAAnB,EAAqC+E,aAArC,EAAoDxE,aAApD,EAAmEF,YAAnE,EAAiFK,cAAjF,CAPY,CAAhB;EAQA,OAAQjE,KAAK,CAAC2I,aAAN,CAAoB,KAApB;IAA6BC,GAAG,EAAE7E,kBAAlC;IAAsD8E,SAAS,EAAE1I,IAAI,CAACC,QAAQ,CAAC4B,kBAAkB,EAAnB,CAAT,EAAiC5B,QAAQ,CAACuB,iBAAD,CAAzC,CAArE;IAAoIuD,KAAK,gDACrIjC,UAAU,KAAK7B,UAAU,CAACyG,KAA1B,uBACKxH,MAAM,CAAC,cAAD,CADX,YACiC+E,IAAI,CAACC,KAAL,CAAWlC,WAAW,CAAC8B,OAAvB,CADjC,WAEE,IAHmI,GAIrIvC,UAAU,CAACoG,WAAX,KAA2B,MAA3B,GAAoC,EAApC,GAAyC,IAJ4F,GAKtIlG,MAAM,CAACmG,SAL+H;EAAzI,GAMGrG,UAAU,CAACsG,IAAX,GAAkB;IAAEC,IAAI,EAAE,cAAR;IAAwB,aAAa;EAArC,CAAlB,GAAoE,IANvE;IAM8EC,QAAQ,EAAE,CAAC;EANzF,GAM+F5F,eAN/F,GAMkHQ,aAAa,IAAI9D,KAAK,CAAC2I,aAAN,CAAoB1G,iBAAiB,CAACkH,QAAtC,EAAgD;IAAE3E,KAAK,EAAEgE;EAAT,CAAhD,EAAoEnG,QAApE,CANnI,CAAR;AAOH,CAjLM;AAkLP,OAAO,IAAM+G,gBAAgB,GAAGnJ,YAAY,CAAC4B,iBAAD,EAAoBO,UAApB,CAArC"},"metadata":{},"sourceType":"module"}